---
// Header component for Global road
import { withBase } from '../utils/basePath';
---

<header class="bg-white shadow-lg sticky top-0 z-50 py-4">
  <nav class="container py-2">
    <div class="flex justify-between items-center">
      <!-- Logo -->
      <div class="flex items-center">
        <a href={withBase('/')} class="text-2xl font-bold text-green-800 hover:text-green-600 transition-colors flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8 text-green-700"><rect x="2" y="7" width="15" height="10" rx="2"/><rect x="17" y="10" width="5" height="7" rx="1"/><circle cx="7" cy="19" r="2"/><circle cx="19" cy="19" r="2"/></svg>
          <span data-i18n="brand">Global road</span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center space-x-8">
        <a href={withBase('/')} class="text-gray-700 hover:text-green-600 font-medium transition-colors" data-i18n="nav_home">
          Home
        </a>
        <a href={withBase('/products')} class="text-gray-700 hover:text-green-600 font-medium transition-colors" data-i18n="nav_products">
          Products
        </a>
        <a href={withBase('/about')} class="text-gray-700 hover:text-green-600 font-medium transition-colors" data-i18n="nav_about">
          About Us
        </a>
        <a href={withBase('/contact')} class="text-gray-700 hover:text-green-600 font-medium transition-colors" data-i18n="nav_contact">
          Contact
        </a>
        <button id="lang-toggle" onclick="toggleLang()" class="ml-4 px-4 py-2 rounded-lg bg-gray-100 hover:bg-green-100 text-green-800 font-semibold transition">
          <span data-i18n="lang_btn">FR</span>
        </button>
      </div>

      <!-- Mobile menu button -->
      <div class="lg:hidden">
        <button 
          type="button" 
          class="text-gray-700 hover:text-green-600 focus:outline-none focus:text-green-600"
          aria-label="Toggle mobile menu"
          aria-expanded="false"
          aria-controls="mobile-menu"
          id="mobile-menu-toggle"
        >
          <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div id="mobile-menu" class="lg:hidden hidden mt-4 pb-4">
      <div class="flex flex-col space-y-4">
        <a href={withBase('/')} class="text-gray-700 hover:text-green-600 font-medium py-2" data-i18n="nav_home">
          Home
        </a>
        <a href={withBase('/products')} class="text-gray-700 hover:text-green-600 font-medium py-2" data-i18n="nav_products">
          Products
        </a>
        <a href={withBase('/about')} class="text-gray-700 hover:text-green-600 font-medium py-2" data-i18n="nav_about">
          About Us
        </a>
        <a href={withBase('/contact')} class="text-gray-700 hover:text-green-600 font-medium py-2" data-i18n="nav_contact">
          Contact
        </a>
        <button id="lang-toggle-mobile" onclick="toggleLang()" class="mt-2 px-4 py-2 rounded-lg bg-gray-100 hover:bg-green-100 text-green-800 font-semibold transition text-center">
          <span data-i18n="lang_btn">FR</span>
        </button>
      </div>
    </div>
  </nav>
</header>

<script is:inline>
  const translations = {
    en: {
      brand: "Global road",
      nav_home: "Home",
      nav_products: "Products",
      nav_about: "About Us",
      nav_contact: "Contact",
      lang_btn: "FR",
      // Footer
      footer_desc: "Your trusted partner in global import & export. Connecting the world with reliable logistics and fresh produce.",
      footer_links: "Quick Links",
      footer_contact: "Contact Us",
      footer_address: "Rue 36 Ibn tachfine agdal rabat",
      footer_phone: "+212 600-000000",
      footer_email: "contact@globalroad.com",
      footer_copyright: `Â© ${new Date().getFullYear()} Global road. All rights reserved.`,
      // Hero
      hero_title: "Premium Products for Global Trade",
      hero_desc: "Your premier partner for global import/export and logistics. From port to port, Global road ensures quality, reliability, and seamless delivery in every shipment.",
      hero_btn: "View Our Products",
      hero_countries: "Countries Served",
      hero_experience: "Years Experience",
      hero_ontime: "On-Time Delivery",
      // About
      about_title: "Our Story: 25+ Years of Global Trade Excellence",
      about_desc: "From a small operation to a global leader in import/export logistics, our journey has been driven by an unwavering commitment to quality, reliability, and building lasting partnerships.",
      about_mission_title: "Our Mission",
      about_mission_1: "To connect the world's finest farms with businesses that demand exceptional quality, creating sustainable value for growers, partners, and consumers while promoting responsible agricultural practices globally.",
      about_mission_2: "We believe that fresh, high-quality produce should be accessible to businesses worldwide, regardless of geographic boundaries or seasonal limitations.",
      about_values_title: "Our Core Values",
      about_value_quality: "Quality First:",
      about_value_quality_desc: " Never compromising on the standards that define exceptional produce",
      about_value_sustain: "Sustainability:",
      about_value_sustain_desc: " Supporting eco-friendly farming and responsible trade practices",
      about_value_partner: "Partnership:",
      about_value_partner_desc: " Building long-term relationships based on trust and mutual success",
      about_value_innov: "Innovation:",
      about_value_innov_desc: " Continuously improving our processes and embracing new technologies",
      // Products
      products_title: "Premium Products for Global Trade",
      products_desc: "Our extensive product portfolio spans fresh fruits, vegetables, and seafood sourced from the world's finest regions, ensuring year-round availability and consistent quality for your import/export needs.",
      products_fruits: "Premium Fruits",
      products_fruits_desc: "Fresh apples, oranges, grapes, and tropical fruits",
      products_veggies: "Fresh Vegetables",
      products_veggies_desc: "Carrots, broccoli, tomatoes, and leafy greens",
      products_ops: "Global Operations",
      products_ops_desc: "Complete supply chain from farm to market",
      products_grapes: "Table Grapes",
      products_greens: "Leafy Greens",
      products_tropical: "Tropical Fruits",
      // Contact
      contact_title: "Get In Touch With Us",
      contact_intro: "Ready to discuss your sourcing or logistics needs? Our team of experts is here to provide solutions that meet your quality, volume, and delivery requirements.",
      contact_info_title: "Contact Information",
      contact_info_desc: "Our team is available to discuss your fresh produce needs, answer questions about our logistics, and provide expert guidance on international sourcing.",
      contact_phone_title: "Phone",
      contact_phone: "+212 600-000000",
      contact_phone_hours: "Monday - Friday: 8:00 AM - 6:00 PM",
      contact_email_title: "Email",
      contact_email: "contact@globalroad.com",
      contact_email_response: "We respond within 24 hours",
      contact_hq_title: "Headquarters",
      contact_hq_address: "Rue 36 Ibn tachfine agdal rabat",
      // Featured Products Section
      featured_title: "Premium Products for Global Trade",
      featured_desc: "Sourced and delivered by ðŸš¢ Global road â€” your trusted partner for import/export logistics and fresh produce worldwide.",
      featured_card1_title: "Container Transport",
      featured_card2_title: "Fresh Produce Logistics",
      featured_card3_title: "Cold Chain Solutions",
      featured_card4_title: "Fresh Produce Variety",
      featured_card5_title: "Retail-Ready Produce",
      featured_card6_title: "Quality Control",
      featured_card7_title: "Inventory & Delivery",
      featured_btn: "View All Products",
      // Product Card Titles & Descriptions
      card_dried_fruits_title: "Dried Fruits",
      card_citrus_fruits_title: "Citrus Fruits",
      card_melons_title: "Melons",
      card_apples_pears_title: "Apples & Pears",
      card_apple_warehouse_title: "Apple Warehouse",
      card_bulk_berries_title: "Bulk Berries"
    },
    fr: {
      brand: "Global road",
      nav_home: "Accueil",
      nav_products: "Produits",
      nav_about: "Ã€ propos",
      nav_contact: "Contact",
      lang_btn: "EN",
      // Footer
      footer_desc: "Votre partenaire de confiance en import & export mondial. Connecter le monde avec une logistique fiable et des produits frais.",
      footer_links: "Liens rapides",
      footer_contact: "Contactez-nous",
      footer_address: "Rue 36 Ibn tachfine agdal rabat",
      footer_phone: "+212 600-000000",
      footer_email: "contact@globalroad.com",
      footer_copyright: `Â© ${new Date().getFullYear()} Global road. Tous droits rÃ©servÃ©s.`,
      // Hero
      hero_title: "Produits premium pour le commerce mondial",
      hero_desc: "Votre partenaire privilÃ©giÃ© pour l'import/export et la logistique mondiale. Du port au port, Global road garantit qualitÃ©, fiabilitÃ© et livraison sans faille Ã  chaque expÃ©dition.",
      hero_btn: "Voir nos produits",
      hero_countries: "Pays desservis",
      hero_experience: "AnnÃ©es d'expÃ©rience",
      hero_ontime: "Livraison Ã  temps",
      // About
      about_title: "Notre histoire : plus de 25 ans d'excellence dans le commerce mondial",
      about_desc: "D'une petite entreprise Ã  un leader mondial de la logistique import/export, notre parcours a Ã©tÃ© guidÃ© par un engagement indÃ©fectible envers la qualitÃ©, la fiabilitÃ© et la construction de partenariats durables.",
      about_mission_title: "Notre mission",
      about_mission_1: "Relier les meilleures fermes du monde aux entreprises exigeant une qualitÃ© exceptionnelle, crÃ©ant une valeur durable pour les producteurs, partenaires et consommateurs tout en promouvant des pratiques agricoles responsables Ã  l'Ã©chelle mondiale.",
      about_mission_2: "Nous croyons que des produits frais et de haute qualitÃ© doivent Ãªtre accessibles aux entreprises du monde entier, quelles que soient les frontiÃ¨res gÃ©ographiques ou les limitations saisonniÃ¨res.",
      about_values_title: "Nos valeurs fondamentales",
      about_value_quality: "QualitÃ© avant tout :",
      about_value_quality_desc: " Ne jamais transiger sur les standards qui dÃ©finissent des produits d'exception",
      about_value_sustain: "DurabilitÃ© :",
      about_value_sustain_desc: " Soutenir l'agriculture Ã©cologique et des pratiques commerciales responsables",
      about_value_partner: "Partenariat :",
      about_value_partner_desc: " Construire des relations Ã  long terme basÃ©es sur la confiance et le succÃ¨s mutuel",
      about_value_innov: "Innovation :",
      about_value_innov_desc: " AmÃ©liorer continuellement nos processus et adopter de nouvelles technologies",
      // Products
      products_title: "Produits premium pour le commerce mondial",
      products_desc: "Notre large gamme de produits comprend des fruits frais, des lÃ©gumes et des produits de la mer provenant des meilleures rÃ©gions du monde, garantissant une disponibilitÃ© toute l'annÃ©e et une qualitÃ© constante pour vos besoins d'import/export.",
      products_fruits: "Fruits premium",
      products_fruits_desc: "Pommes, oranges, raisins et fruits tropicaux frais",
      products_veggies: "LÃ©gumes frais",
      products_veggies_desc: "Carottes, brocolis, tomates et lÃ©gumes-feuilles",
      products_ops: "OpÃ©rations globales",
      products_ops_desc: "ChaÃ®ne d'approvisionnement complÃ¨te du champ au marchÃ©",
      products_grapes: "Raisins de table",
      products_greens: "LÃ©gumes-feuilles",
      products_tropical: "Fruits tropicaux",
      // Contact
      contact_title: "Contactez-nous",
      contact_intro: "PrÃªt Ã  discuter de vos besoins en approvisionnement ou en logistique ? Notre Ã©quipe d'experts est lÃ  pour vous proposer des solutions adaptÃ©es Ã  vos exigences de qualitÃ©, de volume et de livraison.",
      contact_info_title: "Informations de contact",
      contact_info_desc: "Notre Ã©quipe est disponible pour discuter de vos besoins en produits frais, rÃ©pondre Ã  vos questions sur notre logistique et vous fournir des conseils d'experts sur l'approvisionnement international.",
      contact_phone_title: "TÃ©lÃ©phone",
      contact_phone: "+212 600-000000",
      contact_phone_hours: "Lundi - Vendredi : 8h00 - 18h00",
      contact_email_title: "E-mail",
      contact_email: "contact@globalroad.com",
      contact_email_response: "Nous rÃ©pondons sous 24 heures",
      contact_hq_title: "SiÃ¨ge social",
      contact_hq_address: "Rue 36 Ibn tachfine agdal rabat",
      // Featured Products Section
      featured_title: "Produits premium pour le commerce mondial",
      featured_desc: "SourcÃ©s et livrÃ©s par ðŸš¢ Global road â€” votre partenaire de confiance pour la logistique d'import/export et les produits frais dans le monde entier.",
      featured_card1_title: "Transport de conteneurs",
      featured_card2_title: "Logistique des produits frais",
      featured_card3_title: "Solutions chaÃ®ne du froid",
      featured_card4_title: "VariÃ©tÃ© de produits frais",
      featured_card5_title: "Produits prÃªts Ã  la vente",
      featured_card6_title: "ContrÃ´le qualitÃ©",
      featured_card7_title: "Inventaire & Livraison",
      featured_btn: "Voir tous les produits",
      // Product Card Titles & Descriptions
      card_dried_fruits_title: "Fruits secs",
      card_citrus_fruits_title: "Agrumes",
      card_melons_title: "Melons",
      card_apples_pears_title: "Pommes & Poires",
      card_apple_warehouse_title: "EntrepÃ´t de pommes",
      card_bulk_berries_title: "Baies en vrac"
    }
  };

  function setLanguage(lang) {
    document.querySelectorAll('[data-i18n]').forEach(el => {
      const key = el.getAttribute('data-i18n');
      if (translations[lang][key]) {
        el.textContent = translations[lang][key];
      }
    });
    // Update both language buttons
    const btn = document.getElementById('lang-toggle');
    if (btn) btn.textContent = translations[lang].lang_btn;
    const btnMobile = document.getElementById('lang-toggle-mobile');
    if (btnMobile) btnMobile.textContent = translations[lang].lang_btn;
    localStorage.setItem('lang', lang);
  }

  document.addEventListener('DOMContentLoaded', () => {
    const lang = localStorage.getItem('lang') || 'fr';
    setLanguage(lang);
  });

  window.toggleLang = function() {
    const current = localStorage.getItem('lang') || 'en';
    const next = current === 'en' ? 'fr' : 'en';
    setLanguage(next);
  };

  // Mobile menu toggle
  const btn = document.getElementById('mobile-menu-toggle');
    const menu = document.getElementById('mobile-menu');
  if (btn && menu) {
    btn.addEventListener('click', () => {
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', expanded ? 'false' : 'true');
      menu.classList.toggle('hidden');
    });
  }
</script>
